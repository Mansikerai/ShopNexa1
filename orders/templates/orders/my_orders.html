<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Orders | ShopNexa</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container my-5">

    <!-- Page Header -->
    <div class="mb-4">
        <h2 class="fw-bold">My Orders</h2>
        <p class="text-muted">View and track all your orders</p>
    </div>

    {% if orders %}
        {% for order in orders %}
        <div class="card border-0 shadow-sm rounded-4 mb-4">
            <div class="card-body p-4">

                <!-- Order Header -->
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="fw-semibold mb-0">
                        Order #{{ order.id }}
                    </h5>

                    {% if order.status == "Pending" %}
                        <span class="badge bg-warning text-dark px-3 py-2">
                            Pending
                        </span>
                    {% elif order.status == "Delivered" %}
                        <span class="badge bg-success px-3 py-2">
                            Delivered
                        </span>
                    {% elif order.status == "Cancelled" %}
                        <span class="badge bg-danger px-3 py-2">
                            Cancelled
                        </span>
                    {% else %}
                        <span class="badge bg-secondary px-3 py-2">
                            {{ order.status }}
                        </span>
                    {% endif %}
                </div>

                <!-- Order Details -->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <p class="text-muted mb-1">Order Date</p>
                        <p class="fw-semibold">{{ order.created_at }}</p>
                    </div>

                    <div class="col-md-4">
                        <p class="text-muted mb-1">Payment Method</p>
                        <p class="fw-semibold">{{ order.payment_method }}</p>
                    </div>

                    <div class="col-md-4">
                        <p class="text-muted mb-1">Total Amount</p>
                        <p class="fw-bold fs-5 text-success">
                            ₹ {{ order.total_amount }}
                        </p>
                    </div>
                </div>

                <hr>

                <!-- Action Buttons -->
                <div class="d-flex flex-wrap gap-3">
                    <a href="{% url 'order_summary' order.id %}"
                       class="btn btn-dark px-4">
                        <i class="bi bi-eye me-1"></i> View Details
                    </a>

                    <a href="{% url 'product_list' %}"
                       class="btn btn-outline-secondary px-4">
                        <i class="bi bi-cart-plus me-1"></i> Buy Again
                    </a>
                </div>

            </div>
        </div>
        {% endfor %}

    {% else %}
        <!-- No Orders -->
        <div class="text-center bg-white p-5 rounded-4 shadow-sm">
            <i class="bi bi-bag-x fs-1 text-muted"></i>
            <h4 class="mt-3">No Orders Found</h4>
            <p class="text-muted">
                You haven’t placed any orders yet.
            </p>

            <a href="{% url 'product_list' %}" class="btn btn-dark mt-3">
                Start Shopping
            </a>
        </div>
    {% endif %}

</div>

</body>
</html>
